<section class="vh-70" style="background-color: #DAF7A6;">

  <div class="container h-100 mt-3">

    <div class="row d-flex justify-content-center align-items-center h-100">

      <div class="col-lg-12 col-xl-11 mt-2">



        <p class="text-center h5 fw-bold mb-5 mx-1 mx-md-4 mt-5 textoColor-6">
          Historial de compras
        </p>


        <div class="row row-cols-1 row-cols-md-1 g-4 ms-0 me-0">


          @if(hayCompras === false){

          <div class="row row-cols-1 row-cols-md-1 g-0" style="margin-bottom: 200px;">

            <div class="alert alert-danger d-flex align-items-center" role="alert">
              <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:">
                <use xlink:href="#exclamation-triangle-fill" />
              </svg>
              <div>
                No tiene compras a√∫n
              </div>
            </div>

          </div>

          } @else {

          <div class="table-responsive">
            <table class="table table-bordered">
              <thead>
                <th class="fila-titulo">Fecha de compra</th>
                <th class="fila-titulo">Producto</th>
                <th class="fila-titulo">Cantidad</th>
                <th class="fila-titulo">Precio por unidad</th>
                <th class="fila-titulo">Total compra</th>
                <th class="fila-titulo">Ver</th>
              </thead>

              <tbody>

                @for(purchase of purchases; track purchase.id){

                <tr class="fila-info">
                  <td>{{purchase.fecha}}</td>
                  <td>{{purchase.product.titulo}}</td>
                  <td>{{purchase.cantidad}}</td>
                  <td>${{precioAPrecioConPuntos(purchase.precioUnidad)}}</td>
                  <td>${{precioAPrecioConPuntos(purchase.cantidad*purchase.precioUnidad)}}</td>
                  <td>
                    <a href="#" (click)="openPublication(purchase.product.id)" class="color-6">
                      Ver
                    </a>
                  </td>
                </tr>

                }

              </tbody>

            </table>
          </div>

          }

        </div>


        @if(hayCompras === true){

        <div style="margin-bottom: 70px;">
          <mat-paginator [pageSize]="pageSize" [pageIndex]="pageIndex" [pageSizeOptions]="pageSizeOptions"
            [length]="totalItems" (page)="onPageChange($event)" aria-label="Select page" showFirstLastButtons
            class="d-flex mt-3 mb-5 pb-2 pt-2 justify-content-center align-items-center rounded">
          </mat-paginator>
        </div>

        }

      </div>
    </div>

  </div>

</section>